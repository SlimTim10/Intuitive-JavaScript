<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>More Arrays - Intuitive JavaScript</title>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&family=Inter:wght@300;400&display=swap" rel="stylesheet"> 
		<link rel="stylesheet" href="../css/reset.css" />
		<link rel="stylesheet" href="../css/default.css" />
		<link rel="stylesheet" href="../css/vs2015.css" />
	</head>
	<body>
		<header>
			<nav>
				<a href="../">Intuitive JavaScript</a>
			</nav>
		</header>

		<main role="main">
			<h1>More Arrays</h1>
			<article>
	<section>
		<p>We’re not done with arrays yet! Here, we will introduce two very common ways to use arrays: applying a single operation on each element of an array, and converting between arrays and strings.</p>
<h2 id="higher-order-functions">Higher-Order Functions</h2>
<p>Methods that allow us to deal with an entire array as a whole, no matter how big, are invaluable for solving real problems. In order to do such a thing, we need to use <strong>higher-order functions</strong>. Keep in mind that methods are just functions with slightly different syntax, so we could call them <strong>higher-order methods</strong> but since this applies to functions in general, we’ll stick to that.</p>
<p>A higher-order function is one that takes in a function as an argument. That’s right, functions can take other functions as arguments! And why shouldn’t they? After all, functions are values just like any other.</p>
<p>If you have heard of loops (e.g., the <code>for</code> loop, or the <code>for...of</code> loop), using these methods removes the need for writing our own loops. They do the looping internally (abstracting it) so we can focus on the problem at hand.</p>
<h3 id="every">every()</h3>
<p>The <code>every()</code> method checks if <em>every</em> one of an array’s elements passes a test and returns true if they all pass, otherwise false.</p>
<p>The argument we need to pass to <code>every()</code> is a function that takes in one element and returns a boolean value (true or false). We get to define the function and give it a name, but we don’t get to decide how it gets called. That’s the trick to higher-order functions. Since the higher-order function gets to call our function, it already has an idea in mind of how it’s going to be called and what arguments to pass to it. So we can just imagine that our function’s argument will become each element of the array.</p>
<p>In this case, <code>every()</code> is the higher order function. The function that we pass to it as an argument is called a <strong>callback function</strong>. The <code>every()</code> method is expecting the callback function to take a single argument and return a boolean value, so that’s exactly how our callback function has to work.</p>
<div class="sourceCode" id="cb1" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">const</span> isEven <span class="op">=</span> x <span class="kw">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">===</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">isEven</span>(<span class="dv">2</span>))<span class="op">;</span> <span class="co">// true</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">isEven</span>(<span class="dv">5</span>))<span class="op">;</span> <span class="co">// false</span></span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="kw">const</span> someNumbers <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">someNumbers</span>.<span class="at">every</span>(isEven))<span class="op">;</span> <span class="co">// false</span></span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="kw">const</span> evenNumbers <span class="op">=</span> [<span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">8</span>]<span class="op">;</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">evenNumbers</span>.<span class="at">every</span>(isEven))<span class="op">;</span> <span class="co">// true</span></span></code></pre></div>
<p>In this example, <code>isEven()</code> is our callback function. It takes a single argument, <code>x</code>, and returns true if <code>x</code> is even, otherwise false. The argument <code>x</code> will become each element of the given array when <code>every()</code> runs, then we will get our final answer.</p>
<p>It is commonplace to define the callback function directly inside of the higher-order function call if we don’t need to keep it for reuse.</p>
<div class="sourceCode" id="cb2" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">const</span> evenNumbers <span class="op">=</span> [<span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">8</span>]<span class="op">;</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">evenNumbers</span>.<span class="at">every</span>(x <span class="kw">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">===</span> <span class="dv">0</span>))<span class="op">;</span> <span class="co">// true</span></span></code></pre></div>
<p>How about checking if every name in an array starts with the letter ‘A’?</p>
<div class="sourceCode" id="cb3" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">const</span> names1 <span class="op">=</span> [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Bob'</span><span class="op">,</span> <span class="st">'Carol'</span><span class="op">,</span> <span class="st">'Dave'</span><span class="op">,</span> <span class="st">'Eve'</span>]<span class="op">;</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">names1</span>.<span class="at">every</span>(name <span class="kw">=&gt;</span> <span class="va">name</span>.<span class="at">startsWith</span>(<span class="st">'A'</span>)))<span class="op">;</span> <span class="co">// false</span></span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="kw">const</span> names2 <span class="op">=</span> [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Adam'</span><span class="op">,</span> <span class="st">'April'</span><span class="op">,</span> <span class="st">'Amy'</span>]<span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">names2</span>.<span class="at">every</span>(name <span class="kw">=&gt;</span> <span class="va">name</span>.<span class="at">startsWith</span>(<span class="st">'A'</span>)))<span class="op">;</span> <span class="co">// true</span></span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="kw">const</span> names3 <span class="op">=</span> [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Adam'</span><span class="op">,</span> <span class="st">'April'</span><span class="op">,</span> <span class="st">'Amy'</span><span class="op">,</span> <span class="st">'Bob'</span>]<span class="op">;</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">names3</span>.<span class="at">every</span>(name <span class="kw">=&gt;</span> <span class="va">name</span>.<span class="at">startsWith</span>(<span class="st">'A'</span>)))<span class="op">;</span> <span class="co">// false</span></span></code></pre></div>
<p>A whole category of problems just got a lot easier with <code>every()</code>!</p>
<h3 id="some">some()</h3>
<p>The <code>some()</code> method is like <code>every()</code>, except only <em>one</em> element needs to pass the test to return true. In other words, if <em>any</em> element passes the test, return true, otherwise false.</p>
<p>Let’s take a look at similar examples as before, but using <code>some()</code> instead of <code>every()</code>.</p>
<div class="sourceCode" id="cb4" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">const</span> isEven <span class="op">=</span> x <span class="kw">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">===</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="kw">const</span> someNumbers <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">someNumbers</span>.<span class="at">some</span>(isEven))<span class="op">;</span> <span class="co">// true</span></span>
<span id="cb4-5"><a href="#cb4-5"></a></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="kw">const</span> evenNumbers <span class="op">=</span> [<span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">8</span>]<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">evenNumbers</span>.<span class="at">some</span>(isEven))<span class="op">;</span> <span class="co">// true</span></span>
<span id="cb4-8"><a href="#cb4-8"></a></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="kw">const</span> oddNumbers <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">7</span>]<span class="op">;</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">oddNumbers</span>.<span class="at">some</span>(isEven))<span class="op">;</span> <span class="co">// false</span></span></code></pre></div>
<div class="sourceCode" id="cb5" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">const</span> names1 <span class="op">=</span> [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Bob'</span><span class="op">,</span> <span class="st">'Carol'</span><span class="op">,</span> <span class="st">'Dave'</span><span class="op">,</span> <span class="st">'Eve'</span>]<span class="op">;</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">names1</span>.<span class="at">some</span>(name <span class="kw">=&gt;</span> <span class="va">name</span>.<span class="at">startsWith</span>(<span class="st">'A'</span>)))<span class="op">;</span> <span class="co">// true</span></span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="kw">const</span> names2 <span class="op">=</span> [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Adam'</span><span class="op">,</span> <span class="st">'April'</span><span class="op">,</span> <span class="st">'Amy'</span>]<span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">names2</span>.<span class="at">some</span>(name <span class="kw">=&gt;</span> <span class="va">name</span>.<span class="at">startsWith</span>(<span class="st">'A'</span>)))<span class="op">;</span> <span class="co">// true</span></span>
<span id="cb5-6"><a href="#cb5-6"></a></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="kw">const</span> names3 <span class="op">=</span> [<span class="st">'Bob'</span><span class="op">,</span> <span class="st">'Carol'</span><span class="op">,</span> <span class="st">'Dave'</span><span class="op">,</span> <span class="st">'Eve'</span>]<span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">names3</span>.<span class="at">some</span>(name <span class="kw">=&gt;</span> <span class="va">name</span>.<span class="at">startsWith</span>(<span class="st">'A'</span>)))<span class="op">;</span> <span class="co">// false</span></span></code></pre></div>
<h3 id="map">map()</h3>
<p>Probably the most commonly used of the higher-order array methods is <code>map()</code>. It takes in a function and returns a new array after having applied that function to each element. Because the function we provide to <code>map()</code> is meant to operate on each individual element of the array, we must define it as a function that takes one argument and returns a new value.</p>
<p>The kinds of problems that <code>map()</code> helps with are difficult to describe in words, so let’s look at some examples.</p>
<ol>
<li><p>Example</p>
<p>Let’s say we have an array of numbers.</p>
<div class="sourceCode" id="cb6" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">const</span> someNumbers <span class="op">=</span> [<span class="dv">3</span><span class="op">,</span> <span class="dv">99</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">-6</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">;</span></span></code></pre></div>
<p>And we want to increase each number by 1. We can first define a function that takes in a single number and returns its value plus 1.</p>
<div class="sourceCode" id="cb7" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">const</span> add1 <span class="op">=</span> x <span class="kw">=&gt;</span> x <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">add1</span>(<span class="dv">5</span>))<span class="op">;</span> <span class="co">// 6</span></span></code></pre></div>
<p>We can try using this function on a single element of our array.</p>
<div class="sourceCode" id="cb8" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">add1</span>(someNumbers[<span class="dv">0</span>]))<span class="op">;</span> <span class="co">// 4</span></span></code></pre></div>
<p>If we want to apply the function to each element of our array, we could write it out the long way.</p>
<div class="sourceCode" id="cb9" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1"></a><span class="va">console</span>.<span class="at">log</span>( [</span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="at">add1</span>(someNumbers[<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="at">add1</span>(someNumbers[<span class="dv">1</span>])<span class="op">,</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="at">add1</span>(someNumbers[<span class="dv">2</span>])<span class="op">,</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="at">add1</span>(someNumbers[<span class="dv">3</span>])<span class="op">,</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="at">add1</span>(someNumbers[<span class="dv">4</span>])</span>
<span id="cb9-7"><a href="#cb9-7"></a>] )<span class="op">;</span> <span class="co">// [ 4, 100, 1, -5, 11 ]</span></span></code></pre></div>
<p>This works, but it requires us to know exactly how many element are in the array. And it would take a lot of code for a long array. Instead, we can use <code>map()</code>.</p>
<div class="sourceCode" id="cb10" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">someNumbers</span>.<span class="at">map</span>(add1))<span class="op">;</span> <span class="co">// [ 4, 100, 1, -5, 11 ]</span></span></code></pre></div>
<p>As before, we can skip defining the add1 function as a variable and just define it in the <code>map()</code> call. The complete example is as follows.</p>
<div class="sourceCode" id="cb11" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">const</span> someNumbers <span class="op">=</span> [<span class="dv">3</span><span class="op">,</span> <span class="dv">99</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">-6</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">;</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">someNumbers</span>.<span class="at">map</span>(x <span class="kw">=&gt;</span> x <span class="op">+</span> <span class="dv">1</span>))<span class="op">;</span> <span class="co">// [ 4, 100, 1, -5, 11 ]</span></span></code></pre></div></li>
<li><p>Example</p>
<p>Another use case is to extract a common property from each element. Let’s say we have an array of names and we want to get the lengths of each name. Since each name is a string and has a <code>length</code> property, we can use <code>map()</code> here.</p>
<div class="sourceCode" id="cb12" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">const</span> names <span class="op">=</span> [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Bob'</span><span class="op">,</span> <span class="st">'Carol'</span><span class="op">,</span> <span class="st">'Dean'</span><span class="op">,</span> <span class="st">'Eve'</span><span class="op">,</span> <span class="st">'Frank'</span>]<span class="op">;</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="kw">const</span> nameLengths <span class="op">=</span> <span class="va">names</span>.<span class="at">map</span>(name <span class="kw">=&gt;</span> <span class="va">name</span>.<span class="at">length</span>)<span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="va">console</span>.<span class="at">log</span>(nameLengths)<span class="op">;</span> <span class="co">// [ 5, 3, 5, 4, 3, 5 ]</span></span></code></pre></div></li>
<li><p>Summary</p>
<p>In general, whenever we have some array <code>xs</code> and some function <code>f</code> (that operates on a single element <code>x</code>), using <code>xs.map(f)</code> gives us <code>[ f(xs[0]), f(xs[1]), f(xs[2]), ... ]</code>.</p>
<p>Map is the method to use if we want to:</p>
<ul>
<li>start with an array,</li>
<li>do the same thing to each element of the array,</li>
<li>and end up with a new array of the same size.</li>
</ul></li>
</ol>
<h3 id="foreach">forEach()</h3>
<p>The <code>forEach()</code> method is <em>exactly</em> the same as <code>map()</code> except it doesn’t return the new array. It takes in a function to operate on each element of the array, but it simply leaves it at that and doesn’t return anything. This is used for when we want to perform some <em>action</em> on each element instead of ending up with a new array. The simplest example of an action is printing, i.e. <code>console.log()</code>.</p>
<div class="sourceCode" id="cb13" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">const</span> names <span class="op">=</span> [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Bob'</span><span class="op">,</span> <span class="st">'Carol'</span>]<span class="op">;</span></span>
<span id="cb13-2"><a href="#cb13-2"></a></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="kw">const</span> sayHello <span class="op">=</span> name <span class="kw">=&gt;</span> <span class="op">{</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`Hello, </span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="op">};</span></span>
<span id="cb13-6"><a href="#cb13-6"></a></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="va">names</span>.<span class="at">forEach</span>(sayHello)<span class="op">;</span></span>
<span id="cb13-8"><a href="#cb13-8"></a></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="co">// Without defining the function separately</span></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="va">names</span>.<span class="at">forEach</span>(name <span class="kw">=&gt;</span> <span class="op">{</span></span>
<span id="cb13-11"><a href="#cb13-11"></a>  <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`Hello, </span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
<p>Notice that our function does not return anything. Even if it did, the return value wouldn’t be used because <code>forEach()</code> won’t keep track of it.</p>
<p>Printing the lengths of an array of names just became easier!</p>
<div class="sourceCode" id="cb14" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">const</span> names <span class="op">=</span> [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Bob'</span><span class="op">,</span> <span class="st">'Carol'</span><span class="op">,</span> <span class="st">'Dean'</span><span class="op">,</span> <span class="st">'Eve'</span><span class="op">,</span> <span class="st">'Frank'</span>]<span class="op">;</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="va">names</span>.<span class="at">forEach</span>(name <span class="kw">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="va">name</span>.<span class="at">length</span>))<span class="op">;</span></span></code></pre></div>
<h3 id="filter">filter()</h3>
<p>One of the less common, but still useful, higher-order array methods is <code>filter()</code>. It also takes in a function to operate on each element of the array, except the function’s job is to say whether to keep the element or not. After using <code>filter()</code>, we end up with a new <em>filtered</em> array that has only certain elements from the original array. Because we can only either keep an element or not, the callback function should return a boolean value (true or false). The new array will only have the elements for which the function returned true.</p>
<div class="sourceCode" id="cb15" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">const</span> someNumbers <span class="op">=</span> [<span class="dv">3</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="dv">8</span>]<span class="op">;</span></span>
<span id="cb15-2"><a href="#cb15-2"></a></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="kw">const</span> isEven <span class="op">=</span> num <span class="kw">=&gt;</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">===</span> <span class="dv">0</span><span class="op">;</span> <span class="co">// returns true if num is even, otherwise false</span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">someNumbers</span>.<span class="at">filter</span>(isEven))<span class="op">;</span> <span class="co">// [ 2, 6, 8 ]</span></span>
<span id="cb15-5"><a href="#cb15-5"></a></span>
<span id="cb15-6"><a href="#cb15-6"></a><span class="kw">const</span> isOdd <span class="op">=</span> num <span class="kw">=&gt;</span> <span class="op">!</span><span class="at">isEven</span>(num)<span class="op">;</span></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">someNumbers</span>.<span class="at">filter</span>(isOdd))<span class="op">;</span> <span class="co">// [ 3, 1, 5, 9 ]</span></span></code></pre></div>
<p>We can filter our array of names in different ways.</p>
<div class="sourceCode" id="cb16" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">const</span> names <span class="op">=</span> [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Bob'</span><span class="op">,</span> <span class="st">'Carol'</span><span class="op">,</span> <span class="st">'Dean'</span><span class="op">,</span> <span class="st">'Eve'</span><span class="op">,</span> <span class="st">'Frank'</span>]<span class="op">;</span></span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">names</span>.<span class="at">filter</span>(name <span class="kw">=&gt;</span> <span class="va">name</span>.<span class="at">length</span> <span class="op">&lt;=</span> <span class="dv">4</span>))<span class="op">;</span> <span class="co">// [ 'Bob', 'Dean', 'Eve' ]</span></span>
<span id="cb16-4"><a href="#cb16-4"></a></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">names</span>.<span class="at">filter</span>(name <span class="kw">=&gt;</span> <span class="op">{</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>  <span class="cf">return</span> <span class="va">name</span>.<span class="at">startsWith</span>(<span class="st">'A'</span>) <span class="op">||</span> <span class="va">name</span>.<span class="at">startsWith</span>(<span class="st">'E'</span>)<span class="op">;</span></span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="op">}</span>))<span class="op">;</span> <span class="co">// [ 'Alice', 'Eve' ]</span></span></code></pre></div>
<p>With a clever use of <code>some()</code>, we can filter for names that start with some vowel.</p>
<div class="sourceCode" id="cb17" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">const</span> names <span class="op">=</span> [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Bob'</span><span class="op">,</span> <span class="st">'Carol'</span><span class="op">,</span> <span class="st">'Dean'</span><span class="op">,</span> <span class="st">'Eve'</span><span class="op">,</span> <span class="st">'Frank'</span><span class="op">,</span> <span class="st">'Ingrid'</span>]<span class="op">;</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="kw">const</span> vowels <span class="op">=</span> [<span class="st">'a'</span><span class="op">,</span> <span class="st">'e'</span><span class="op">,</span> <span class="st">'i'</span><span class="op">,</span> <span class="st">'o'</span><span class="op">,</span> <span class="st">'u'</span>]<span class="op">;</span></span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">names</span>.<span class="at">filter</span>(name <span class="kw">=&gt;</span> <span class="op">{</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>  <span class="cf">return</span> <span class="va">vowels</span>.<span class="at">some</span>(vowel <span class="kw">=&gt;</span> <span class="va">name</span>.<span class="at">toLowerCase</span>().<span class="at">startsWith</span>(vowel))<span class="op">;</span></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="op">}</span>))<span class="op">;</span> <span class="co">// [ 'Alice', 'Eve', 'Ingrid' ]</span></span></code></pre></div>
<p>A common use of <code>filter()</code> is to check how many of a certain kind of element exists in an array. For example, how many numbers are even?</p>
<div class="sourceCode" id="cb18" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">const</span> someNumbers <span class="op">=</span> [<span class="dv">3</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">9</span><span class="op">,</span> <span class="dv">8</span>]<span class="op">;</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="kw">const</span> isEven <span class="op">=</span> num <span class="kw">=&gt;</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">===</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">someNumbers</span>.<span class="at">filter</span>(isEven).<span class="at">length</span>)<span class="op">;</span> <span class="co">// 3</span></span></code></pre></div>
<p>Filter is the method to use if we want to:</p>
<ul>
<li>start with an array,</li>
<li>and end up with a new array of smaller or equal size as the original, without changing the elements.</li>
</ul>
<h3 id="reduce">reduce()</h3>
<p>If the previous methods are for handling certain kinds of problems with arrays, then <code>reduce()</code> is for everything else. Being a very expressive method, <code>reduce()</code> can be difficult to master but very useful.</p>
<p>The callback function passed to <code>reduce()</code> needs to take two arguments. Let’s call them <code>acc</code> (short for “accumulator”) and <code>x</code>. Like the other methods, <code>x</code> will become each element of the array. <code>acc</code> gets an initial value, given by the argument after the callback function, then takes on the values of each successive result of the callback function. You can think of <code>reduce()</code> as starting with an array and reducing it to a single value (the last value of <code>acc</code>). Some examples will make this more clear.</p>
<ol>
<li><p>Example</p>
<p>We don’t yet have a way to sum a bunch of numbers in an array. A great use case for <code>reduce()</code>.</p>
<div class="sourceCode" id="cb19" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1"></a><span class="kw">const</span> someNumbers <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">;</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">someNumbers</span>.<span class="at">reduce</span>((acc<span class="op">,</span> x) <span class="kw">=&gt;</span> acc <span class="op">+</span> x<span class="op">,</span> <span class="dv">0</span>))<span class="op">;</span> <span class="co">// 15</span></span></code></pre></div>
<p>All we’re doing here is adding each number to an accumulator until we reach the end. To break this down, we’re giving <code>reduce()</code> two arguments: a callback function and the number 0. In our callback function, <code>acc</code> starts off as 0. The first call of our function uses the first element, 1, as the value for <code>x</code>, so we get <code>acc + x = 0 + 1 = 1</code> as a result. Thus, the new value for <code>acc</code> is 1. Then <code>x</code> becomes the next element, 2. This time, we get <code>acc + x = 1 + 2 = 3</code> as a result. Thus, the new value for <code>acc</code> is 3. And repeat, <code>x</code> becomes 3. <code>acc + x = 3 + 3 = 6</code>. Thus, the new value for <code>acc</code> is 6. Repeat, <code>x</code> becomes 4. <code>acc + x = 6 + 4 = 10</code>. Thus, the new value for <code>acc</code> is 10. Finally, <code>x</code> becomes 5. <code>acc + x = 10 + 5 = 15</code>. Thus, the final value for <code>acc</code> is 15 and that is the final result.</p>
<p>Perhaps more clearly:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">acc</th>
<th style="text-align: center;">x</th>
<th style="text-align: right;">acc + x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: right;">0 + 1 = 1</td>
</tr>
<tr class="even">
<td style="text-align: left;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: right;">1 + 2 = 3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: center;">3</td>
<td style="text-align: right;">3 + 3 = 6</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: center;">4</td>
<td style="text-align: right;">6 + 4 = 10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10</td>
<td style="text-align: center;">5</td>
<td style="text-align: right;">10 + 5 = 15</td>
</tr>
</tbody>
</table>
<p>.</p></li>
<li><p>Example</p>
<p>The result we end up with doesn’t even have to be the same type as the elements. For example, we can sum the lengths of an array of strings all at once.</p>
<div class="sourceCode" id="cb20" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw">const</span> names <span class="op">=</span> [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Bob'</span><span class="op">,</span> <span class="st">'Carol'</span><span class="op">,</span> <span class="st">'Dave'</span><span class="op">,</span> <span class="st">'Eve'</span>]<span class="op">;</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">names</span>.<span class="at">reduce</span>((acc<span class="op">,</span> name) <span class="kw">=&gt;</span> acc <span class="op">+</span> <span class="va">name</span>.<span class="at">length</span><span class="op">,</span> <span class="dv">0</span>))<span class="op">;</span> <span class="co">// 20</span></span></code></pre></div></li>
<li><p>Example</p>
<p>In fact, we can even end up with an array! For example, we can flatten a nested array.</p>
<div class="sourceCode" id="cb21" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw">const</span> nested <span class="op">=</span> [ [<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Bob'</span>]<span class="op">,</span> [<span class="st">'Carol'</span><span class="op">,</span> <span class="st">'Dave'</span>] ]<span class="op">;</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="va">console</span>.<span class="at">log</span>(<span class="va">nested</span>.<span class="at">reduce</span>((acc<span class="op">,</span> x) <span class="kw">=&gt;</span> [...<span class="at">acc</span><span class="op">,</span> ...<span class="at">x</span>]<span class="op">,</span> []))<span class="op">;</span></span></code></pre></div></li>
<li><p>Example</p>
<p>In fact, <code>reduce()</code> is so expressive that we can define all of the previous methods just by using it alone.</p>
<div class="sourceCode" id="cb22" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb22-1"><a href="#cb22-1"></a><span class="kw">const</span> reduceEvery <span class="op">=</span> (xs<span class="op">,</span> f) <span class="kw">=&gt;</span> <span class="va">xs</span>.<span class="at">reduce</span>((acc<span class="op">,</span> x) <span class="kw">=&gt;</span> acc <span class="op">?</span> <span class="at">f</span>(x) : <span class="kw">false</span><span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">reduceEvery</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">,</span> x <span class="kw">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">===</span> <span class="dv">0</span>))<span class="op">;</span> <span class="co">// false</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">reduceEvery</span>([<span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">8</span>]<span class="op">,</span> x <span class="kw">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">===</span> <span class="dv">0</span>))<span class="op">;</span> <span class="co">// true</span></span>
<span id="cb22-4"><a href="#cb22-4"></a></span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="kw">const</span> reduceSome <span class="op">=</span> (xs<span class="op">,</span> f) <span class="kw">=&gt;</span> <span class="va">xs</span>.<span class="at">reduce</span>((acc<span class="op">,</span> x) <span class="kw">=&gt;</span> acc <span class="op">?</span> <span class="kw">true</span> : <span class="at">f</span>(x)<span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">reduceSome</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">,</span> x <span class="kw">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">===</span> <span class="dv">0</span>))<span class="op">;</span> <span class="co">// true</span></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">reduceSome</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">7</span>]<span class="op">,</span> x <span class="kw">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">===</span> <span class="dv">0</span>))<span class="op">;</span> <span class="co">// false</span></span>
<span id="cb22-8"><a href="#cb22-8"></a></span>
<span id="cb22-9"><a href="#cb22-9"></a><span class="kw">const</span> reduceMap <span class="op">=</span> (xs<span class="op">,</span> f) <span class="kw">=&gt;</span> <span class="va">xs</span>.<span class="at">reduce</span>((acc<span class="op">,</span> x) <span class="kw">=&gt;</span> [...<span class="at">acc</span><span class="op">,</span> <span class="at">f</span>(x)]<span class="op">,</span> [])<span class="op">;</span></span>
<span id="cb22-10"><a href="#cb22-10"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">reduceMap</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">,</span> x <span class="kw">=&gt;</span> x <span class="op">+</span> <span class="dv">1</span>))<span class="op">;</span> <span class="co">// [ 2, 3, 4, 5, 6 ]</span></span>
<span id="cb22-11"><a href="#cb22-11"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">reduceMap</span>([<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Bob'</span><span class="op">,</span> <span class="st">'Carol'</span>]<span class="op">,</span> name <span class="kw">=&gt;</span> <span class="va">name</span>.<span class="at">length</span>))<span class="op">;</span> <span class="co">// [ 5, 3, 5 ]</span></span>
<span id="cb22-12"><a href="#cb22-12"></a></span>
<span id="cb22-13"><a href="#cb22-13"></a><span class="kw">const</span> reduceFilter <span class="op">=</span> (xs<span class="op">,</span> f) <span class="kw">=&gt;</span> <span class="va">xs</span>.<span class="at">reduce</span>((acc<span class="op">,</span> x) <span class="kw">=&gt;</span> <span class="at">f</span>(x) <span class="op">?</span> [...<span class="at">acc</span><span class="op">,</span> x] : acc<span class="op">,</span> [])<span class="op">;</span></span>
<span id="cb22-14"><a href="#cb22-14"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">reduceFilter</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">,</span> x <span class="kw">=&gt;</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">===</span> <span class="dv">0</span>))<span class="op">;</span> <span class="co">// [ 2, 4 ]</span></span>
<span id="cb22-15"><a href="#cb22-15"></a><span class="va">console</span>.<span class="at">log</span>(<span class="at">reduceFilter</span>([<span class="st">'Alice'</span><span class="op">,</span> <span class="st">'Bob'</span><span class="op">,</span> <span class="st">'Carol'</span>]<span class="op">,</span> name <span class="kw">=&gt;</span> <span class="va">name</span>.<span class="at">length</span> <span class="op">&lt;</span> <span class="dv">4</span>))<span class="op">;</span> <span class="co">// [ 'Bob' ]</span></span></code></pre></div></li>
</ol>
<h2 id="exercises">Exercises</h2>
<ul>
    <li><a href="../exercises/08-more-arrays-exercises.js">View exercises</a></li>
    <li><a href="../exercises/08-more-arrays-exercises.js" download type="application/octet-stream">Download exercises</a></li>
    <li><a href="../exercises/08-more-arrays-solutions.js">View solutions</a></li>
    <li><a href="../exercises/08-more-arrays-solutions.js" download type="application/octet-stream">Download solutions</a></li>
</ul>

	</section>
</article>

		</main>

		<footer>
			Site proudly generated by
			<a href="http://jaspervdj.be/hakyll">Hakyll</a>
		</footer>
	</body>
</html>
